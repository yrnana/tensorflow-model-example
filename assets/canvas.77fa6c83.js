var p=Object.defineProperty,w=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;var d=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,g=(e,t)=>{for(var i in t||(t={}))h.call(t,i)&&d(e,i,t[i]);if(f)for(var i of f(t))a.call(t,i)&&d(e,i,t[i]);return e},l=(e,t)=>w(e,x(t));var m=(e,t)=>{var i={};for(var r in e)h.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&f)for(var r of f(e))t.indexOf(r)<0&&a.call(e,r)&&(i[r]=e[r]);return i};import{r as c}from"./vendor.a4162548.js";import{j as P}from"./index.65c1c8a9.js";async function y(e,t){return new Promise((i,r)=>{var o;((o=navigator.mediaDevices)==null?void 0:o.getUserMedia)?navigator.mediaDevices.getUserMedia(t||{audio:!1,video:{width:960,height:540,facingMode:"user"}}).then(n=>{e.srcObject=n,i(n)}).catch(r):r(new Error("mediaDevices not support"))})}function j(e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}const C=c.exports.forwardRef((r,i)=>{var o=r,{onLoadedMetadata:e}=o,t=m(o,["onLoadedMetadata"]);const n=c.exports.useRef(null),v=c.exports.useCallback(u=>{const s=n.current;!s||(s.width=s.videoWidth,s.height=s.videoHeight,e==null||e(u))},[e]);return c.exports.useEffect(()=>{const u=n.current;u&&y(u)},[i]),P("video",l(g({},t),{autoPlay:!0,playsInline:!0,muted:!0,onLoadedMetadata:v,className:"transform -scale-x-100",ref:j([n,i])}))});C.displayName="Video";function V(e,t,i){const r=t.getContext("2d");!r||(t.width=e.videoWidth,t.height=e.videoHeight,r.fillStyle="rgba(0, 0, 0, 0.5)",i==null||i(r))}function H(e,t,i){const r=new Path2D;r.moveTo(t[0][0],t[0][1]);for(let o=1;o<t.length;o++){const n=t[o];r.lineTo(n[0],n[1])}i&&r.closePath(),e.stroke(r)}function I(e,t,i,r){e.beginPath(),e.arc(i,t,r,0,2*Math.PI),e.fill()}export{C as V,I as a,H as d,V as s};
//# sourceMappingURL=canvas.77fa6c83.js.map
