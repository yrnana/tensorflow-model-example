{"version":3,"file":"FaceDetection.6f8e71f4.js","sources":["../../node_modules/@tensorflow-models/blazeface/dist/blazeface.esm.js","../../src/pages/FaceDetection.tsx"],"sourcesContent":["/**\n    * @license\n    * Copyright 2021 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport{slice,add,div,sub,mul,concat2d,Tensor,tidy,concat,tensor1d,squeeze,tensor2d,image,sigmoid,reshape,browser,expandDims,cast}from\"@tensorflow/tfjs-core\";import{loadGraphModel}from\"@tensorflow/tfjs-converter\";function __awaiter(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})}function __generator(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var disposeBox=function(e){e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose()},createBox=function(e){return{startEndTensor:e,startPoint:slice(e,[0,0],[-1,2]),endPoint:slice(e,[0,2],[-1,2])}},scaleBox=function(e,t){var n=mul(e.startPoint,t),r=mul(e.endPoint,t),o=concat2d([n,r],1);return createBox(o)},ANCHORS_CONFIG={strides:[8,16],anchors:[2,6]},NUM_LANDMARKS=6;function generateAnchors(e,t,n){for(var r=[],o=0;o<n.strides.length;o++)for(var i=n.strides[o],a=Math.floor((t+i-1)/i),s=Math.floor((e+i-1)/i),c=n.anchors[o],l=0;l<a;l++)for(var u=i*(l+.5),d=0;d<s;d++)for(var h=i*(d+.5),f=0;f<c;f++)r.push([h,u]);return r}function decodeBounds(e,t,n){var r=slice(e,[0,1],[-1,2]),o=add(r,t),i=slice(e,[0,3],[-1,2]),a=div(i,n),s=div(o,n),c=div(a,2),l=sub(s,c),u=add(s,c),d=mul(l,n),h=mul(u,n);return concat2d([d,h],1)}function getInputTensorDimensions(e){return e instanceof Tensor?[e.shape[0],e.shape[1]]:[e.height,e.width]}function flipFaceHorizontal(e,t){var n,r,o;if(e.topLeft instanceof Tensor&&e.bottomRight instanceof Tensor){var i=tidy(function(){return[concat([slice(sub(t-1,e.topLeft),0,1),slice(e.topLeft,1,1)]),concat([sub(t-1,slice(e.bottomRight,0,1)),slice(e.bottomRight,1,1)])]});n=i[0],r=i[1],null!=e.landmarks&&(o=tidy(function(){var n=sub(tensor1d([t-1,0]),e.landmarks),r=tensor1d([1,-1]);return mul(n,r)}))}else{var a=e.topLeft,s=a[0],c=a[1],l=e.bottomRight,u=l[0],d=l[1];n=[t-1-s,c],r=[t-1-u,d],null!=e.landmarks&&(o=e.landmarks.map(function(e){return[t-1-e[0],e[1]]}))}var h={topLeft:n,bottomRight:r};return null!=o&&(h.landmarks=o),null!=e.probability&&(h.probability=e.probability instanceof Tensor?e.probability.clone():e.probability),h}function scaleBoxFromPrediction(e,t){return tidy(function(){var n;return n=e.hasOwnProperty(\"box\")?e.box:e,squeeze(scaleBox(n,t).startEndTensor)})}var BlazeFaceModel=function(){function e(e,t,n,r,o,i){this.blazeFaceModel=e,this.width=t,this.height=n,this.maxFaces=r,this.anchorsData=generateAnchors(t,n,ANCHORS_CONFIG),this.anchors=tensor2d(this.anchorsData),this.inputSizeData=[t,n],this.inputSize=tensor1d([t,n]),this.iouThreshold=o,this.scoreThreshold=i}return e.prototype.getBoundingBoxes=function(e,t,n){return void 0===n&&(n=!0),__awaiter(this,void 0,void 0,function(){var r,o,i,a,s,c,l,u,d,h,f,p,b,m,v=this;return __generator(this,function(y){switch(y.label){case 0:return r=tidy(function(){var t=image.resizeBilinear(e,[v.width,v.height]),n=mul(sub(div(t,255),.5),2),r=v.blazeFaceModel.predict(n),o=squeeze(r),i=decodeBounds(o,v.anchors,v.inputSize),a=slice(o,[0,0],[-1,1]);return[o,i,squeeze(sigmoid(a))]}),o=r[0],i=r[1],a=r[2],s=console.warn,console.warn=function(){},c=image.nonMaxSuppression(i,a,this.maxFaces,this.iouThreshold,this.scoreThreshold),console.warn=s,[4,c.array()];case 1:return l=y.sent(),c.dispose(),u=l.map(function(e){return slice(i,[e,0],[1,-1])}),t?[3,3]:[4,Promise.all(u.map(function(e){return __awaiter(v,void 0,void 0,function(){var t;return __generator(this,function(n){switch(n.label){case 0:return[4,e.array()];case 1:return t=n.sent(),e.dispose(),[2,t]}})})}))];case 2:u=y.sent(),y.label=3;case 3:for(d=e.shape[1],h=e.shape[2],f=t?div([h,d],this.inputSize):[h/this.inputSizeData[0],d/this.inputSizeData[1]],p=[],b=function(e){var r=u[e],i=tidy(function(){var i=createBox(r instanceof Tensor?r:tensor2d(r));if(!n)return i;var s,c=l[e];return s=t?slice(v.anchors,[c,0],[1,2]):v.anchorsData[c],{box:i,landmarks:reshape(squeeze(slice(o,[c,NUM_LANDMARKS-1],[1,-1])),[NUM_LANDMARKS,-1]),probability:slice(a,[c],[1]),anchor:s}});p.push(i)},m=0;m<u.length;m++)b(m);return i.dispose(),a.dispose(),o.dispose(),[2,{boxes:p,scaleFactor:f}]}})})},e.prototype.estimateFaces=function(e,t,n,r){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),__awaiter(this,void 0,void 0,function(){var o,i,a,s,c,l,u=this;return __generator(this,function(d){switch(d.label){case 0:return o=getInputTensorDimensions(e),i=o[1],a=tidy(function(){return e instanceof Tensor||(e=browser.fromPixels(e)),expandDims(cast(e,\"float32\"),0)}),[4,this.getBoundingBoxes(a,t,r)];case 1:return s=d.sent(),c=s.boxes,l=s.scaleFactor,a.dispose(),t?[2,c.map(function(e){var t=scaleBoxFromPrediction(e,l),o={topLeft:slice(t,[0],[2]),bottomRight:slice(t,[2],[2])};if(r){var a=e,s=a.landmarks,c=a.probability,u=a.anchor,d=mul(add(s,u),l);o.landmarks=d,o.probability=c}return n&&(o=flipFaceHorizontal(o,i)),o})]:[2,Promise.all(c.map(function(e){return __awaiter(u,void 0,void 0,function(){var t,o,a,s,c,u,d,h,f,p,b,m=this;return __generator(this,function(v){switch(v.label){case 0:return t=scaleBoxFromPrediction(e,l),r?[3,2]:[4,t.array()];case 1:return c=v.sent(),o={topLeft:c.slice(0,2),bottomRight:c.slice(2)},[3,4];case 2:return[4,Promise.all([e.landmarks,t,e.probability].map(function(e){return __awaiter(m,void 0,void 0,function(){return __generator(this,function(t){return[2,e.array()]})})}))];case 3:a=v.sent(),s=a[0],c=a[1],u=a[2],d=e.anchor,f=(h=l)[0],p=h[1],b=s.map(function(e){return[(e[0]+d[0])*f,(e[1]+d[1])*p]}),o={topLeft:c.slice(0,2),bottomRight:c.slice(2),landmarks:b,probability:u},disposeBox(e.box),e.landmarks.dispose(),e.probability.dispose(),v.label=4;case 4:return t.dispose(),n&&(o=flipFaceHorizontal(o,i)),[2,o]}})})}))]}})})},e}(),BLAZEFACE_MODEL_URL=\"https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1\";function load(e){var t=void 0===e?{}:e,n=t.maxFaces,r=void 0===n?10:n,o=t.inputWidth,i=void 0===o?128:o,a=t.inputHeight,s=void 0===a?128:a,c=t.iouThreshold,l=void 0===c?.3:c,u=t.scoreThreshold,d=void 0===u?.75:u,h=t.modelUrl;return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return null==h?[3,2]:[4,loadGraphModel(h)];case 1:return e=t.sent(),[3,4];case 2:return[4,loadGraphModel(BLAZEFACE_MODEL_URL,{fromTFHub:!0})];case 3:e=t.sent(),t.label=4;case 4:return[2,new BlazeFaceModel(e,i,s,r,l,d)]}})})}export{load,BlazeFaceModel};\n","import { useCallback, useRef } from 'react';\nimport { BlazeFaceModel, load } from '@tensorflow-models/blazeface';\nimport Video from '~/components/Video';\nimport { setupCanvas } from '~/helpers/canvas';\n\n// https://github.com/tensorflow/tfjs-models/tree/master/blazeface\nconst FaceDetection = () => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const modelRef = useRef<BlazeFaceModel>();\n\n  const render = useCallback(async () => {\n    const model = modelRef.current;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const ctx = canvas?.getContext('2d');\n    if (!model || !video || !canvas || !ctx) {\n      return;\n    }\n\n    const predictions = await model.estimateFaces(video, false, true, true);\n\n    if (predictions.length > 0) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      for (let i = 0; i < predictions.length; i++) {\n        const start = predictions[i].topLeft as [number, number];\n        const end = predictions[i].bottomRight as [number, number];\n        const size = [end[0] - start[0], end[1] - start[1]];\n        ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n        ctx.fillRect(start[0], start[1], size[0], size[1]);\n\n        const landmarks = predictions[i].landmarks as number[][];\n        ctx.fillStyle = '#00ff00';\n        for (let j = 0; j < landmarks.length; j++) {\n          const x = landmarks[j][0];\n          const y = landmarks[j][1];\n          ctx.fillRect(x, y, 5, 5);\n        }\n      }\n    }\n\n    requestAnimationFrame(render);\n  }, []);\n\n  const onLoadedMetadata = useCallback(async () => {\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    if (!video || !canvas) {\n      return;\n    }\n\n    // setup canvas\n    setupCanvas(video, canvas);\n\n    // load model\n    modelRef.current = await load({\n      maxFaces: 1,\n    });\n\n    // render\n    requestAnimationFrame(render);\n  }, [render]);\n\n  return (\n    <div className=\"relative\">\n      <Video ref={videoRef} onLoadedMetadata={onLoadedMetadata} />\n      <canvas ref={canvasRef} className=\"absolute top-0 left-0\" />\n    </div>\n  );\n};\n\nexport default FaceDetection;\n"],"names":["browser.fromPixels","FaceDetection","videoRef","useRef","canvasRef","modelRef","render","useCallback","model","current","video","canvas","ctx","getContext","predictions","estimateFaces","length","clearRect","width","height","i","start","topLeft","end","bottomRight","size","fillStyle","fillRect","landmarks","j","x","y","onLoadedMetadata","load","maxFaces"],"mappings":"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"}